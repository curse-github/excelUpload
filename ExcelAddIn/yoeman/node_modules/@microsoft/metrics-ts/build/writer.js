"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.appendOutputSync = exports.appendOutput = void 0;
const path_1 = require("path");
const fs_extra_1 = require("fs-extra");
const os_1 = require("os");
const fs_1 = require("fs");
const metricsFolder = (0, path_1.join)((0, os_1.tmpdir)(), ".metrics");
const metricsFile = (0, path_1.join)(metricsFolder, "output.txt");
async function appendOutput(data) {
    await (0, fs_extra_1.ensureDir)(metricsFolder);
    await (0, fs_extra_1.ensureFile)(metricsFile);
    await (0, fs_extra_1.appendFile)(metricsFile, JSON.stringify(data) + os_1.EOL);
    return;
}
exports.appendOutput = appendOutput;
function appendOutputSync(data) {
    (0, fs_extra_1.ensureDirSync)(metricsFolder);
    (0, fs_extra_1.ensureFileSync)(metricsFile);
    (0, fs_1.appendFileSync)(metricsFile, JSON.stringify(data) + os_1.EOL);
    return;
}
exports.appendOutputSync = appendOutputSync;
//# sourceMappingURL=writer.js.map